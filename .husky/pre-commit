#!/bin/sh

# Enable error handling
set -e

echo "ğŸš€ Starting pre-commit checks..."

# Change to the go directory if it exists
if [ -d "go" ]; then
    cd go
    echo "ğŸ“‚ Entered go directory"
    
    # Run go fmt
    echo "ğŸ”„ Running go fmt..."
    go fmt ./...
    
    # Run golangci-lint
    echo "ğŸ” Running golangci-lint..."
    golangci-lint run
    
    # Return to the original directory
    cd ..
    
    echo "âœ… Go pre-commit checks completed successfully!"
else
    echo "âš ï¸  Warning: 'go' directory not found. Skipping Go pre-commit checks."
fi

echo "âœ¨ All pre-commit checks passed!"
